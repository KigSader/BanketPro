{% extends 'base.html' %}
{% block title %}Меню клиента{% endblock %}
{% block content %}
<h1 class="h5 mb-3">{{ object.title }} — {{ object.client.full_name }}</h1>
<table class="table table-sm bg-white align-middle">
  <thead><tr><th>Блюдо</th><th>Группа</th><th class="text-end">Цена</th></tr></thead>
  <tbody>
    {% for d in object.dishes.all %}
      <tr><td>{{ d.name }}</td><td>{{ d.group|default:"—" }}</td><td class="text-end">{{ d.price }}</td></tr>
    {% empty %}
      <tr><td colspan="3" class="text-muted">Меню пусто</td></tr>
    {% endfor %}
  </tbody>
  <tfoot>
    <tr><th colspan="2">Итого</th><th class="text-end">
      {{ object.dishes.all|map:'price'|sum }} {# если есть кастомный фильтр; иначе считай во view #}
    </th></tr>
  </tfoot>
</table>
{% endblock %}
